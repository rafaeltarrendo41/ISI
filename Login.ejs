<!DOCTYPE html>
<html>

<head>
    <script src="https://kit.fontawesome.com/f51a15165f.js" crossorigin="anonymous">defer</script>
    <link href="./node_modules/sweetalert2/dist/sweetalert2.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 

<style>




¨*{
            margin:0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Poppins", sans-serif;
            text-decoration: none;
          
        }
        body{
            display: flex;
            flex-direction: column;
            width: 100%;

           

        }
        
    /* The navigation menu */
    .navbar {
      overflow: hidden;
      background-color: #02475e;
      display: flex;
   justify-content: center;
   position: sticky;
   width: 100%;
    }
    
    /* Navigation links */
    .navbar a {

      font-size: 16px;
      color: white;
      text-align: center;
      font-family: "Cairo", sans-serif;
      padding: 14px 16px;
      text-decoration: none;
      display: flex;
   justify-content: center;
    }
    
    
    /* Add a red background color to navigation links on hover */
    .navbar a:hover {
      background-color: #02475e;
    }

   

    .topbar1{
        font-size: 0;
        margin-left: 5%;
        padding: 0px 0px;
    }

    .titulo{
      text-align: center;
      margin-top:10%
    }
 
   
   
    input{
    padding: 4px !important;
}



   

            footer{

        width: 100%;
        
       	
        color: white;
        bottom: 0;
        
        height: 200px;
        position:relative;
        align-items: center;
        justify-content: center;  
        display: flex;
        padding-top: 20px;  
        
        box-shadow: 0px 0 10px rgba(0, 0, 0, 0.8);
        background-color: #222222;
        }
        
        #col2{
        min-width: 160px;	
        padding-top: 0px;	
        top: 0px;
        margin-top: -100px;
        width: 100px;
        padding-left: 0px;
        padding-right: 100px;
        height: 55px;
        display: inline-block;
        text-align: center;
        line-height: 55px;
        font-family: 'Montserrat', sans-serif;
        font-size: 10px;
        position: relative;   
        }
        #col3{
        min-width: 120px;	
        padding-top: 0px;	
        top: 0px;
        margin-top: -100px;
        width: 170px;
        padding-left: 5px;
        padding-right: 0px;
        height: 55px;
        display: inline-block;
        text-align: left;
        line-height: 55px;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        position: relative;   
        }
        #col4{
        text-align: center;
        min-width: 120px;	
        padding-top: 0px;	
        top: 0px;
        margin-bottom:  5px;
        width: 180px;
        padding-left: 0px;
        padding-right: 20px;
        height: 55px;
        font-family: 'Montserrat', sans-serif;
        font-size: 12px;
        position: relative;   
        }
        .rdp:link {
        text-decoration: none;
        color: white;	
        }
            .rdp:visited {
        text-decoration: none;
        color: white;
        }

main{
            width: 100%;
            min-height: 90vh;
            background: linear-gradient(#fff, #80EAFF);
            display: flex;
            justify-content: center;
            box-shadow: inset 0px 2px 3px rgba(0, 0,0, 0.25);
            position: relative;
            flex-grow: 1;
            
        }

        form{
            position: relative;
         margin-top: 5%;   
         width: 35%;
         height:70%;
         background-color: #DCDCDC;
         box-shadow: 0px 3px 4px rgba(0, 0,0, 0.4) ;
         border-radius: 18px;
         
         display: flex;
         flex-direction: column;
         align-items: center;
         text-align: center;
         overflow: hidden;
        
        
        }

        main form .inputs-container{
            margin-top: 10%;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        main form .inputs-container input{
            width: 90%;
            height: 45px;
            padding: 8px 15px;
            border: 0;
            outline: 0;
            border-radius: 12px;
            font-size: 16px;
            color: #312e42;
            box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.25);
            background-color: #fff;
            
        }

        main form .inputs-container h1{
            text-align: center;
            font-weight: 600;
            font-size: 30px;
            margin-top: 1%;
        }
        
        main form .inputs-container input:focus{
            box-shadow: inset 1px 4px 7px rgba(0, 0, 0, 0.5);
        }
    
        main form .password-container{
            margin-top: 5%;
            width: 100%;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        main form .password-container i{
            position: absolute;
            right: 8%;
            top: 35%;
            color:#777;
            cursor: pointer;
        }
        main form .password-container #eye{
            display: none;
        }

        main form button{
            background-color:  #fff;
            width: 40%;
            height: 40px;
            border: 0;
            outline: 0;
            border-radius: 12px;
            margin-top: 10%;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
                
            color: #000;
        }
        main form .links-container{
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 10%;

        }
        
        main form .links-container span{
            font-size: 0.8em;
            font-weight: 600;
            color:#000;
        }

        main form .links-container aside {
            margin-top: 5%;
            width: 50%;
            display: flex;
            align-items: center;
            justify-content: space-around;
        }

        main form .links-container aside i{
            font-size: 1.6em;
            background-color: #fff;
            padding: 8px;
            height: 40px;
            width: 40px;
            border-radius: 20px;
            transition: 0.3s ease-in-out;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        main form .links-container aside .google{
            color: #e34133;
        }
        main form .links-container aside .google:hover{
            background-color: #e34133;
            color: #fff;
        }

        main form .links-container aside .facebook{
            color: #14a0f9;
        }
        main form .links-container aside .facebook:hover{
            background-color: #14a0f9;
            color: #fff;
        }

        main form .links-container aside .link{
            color: #0a66c2;
        }
        main form .links-container aside .link:hover{
            background-color: #0a66c2;
            color: #fff;
        }
        
     
    
        @media screen and (max-width: 768px){
    .navbar{
        width: 100%;
       
    }
    body{
        width: 100%;
    }

    
    main{
        height: 50vh;
        width: 100%;
        margin:0;
    }
    .navbar a{
        width: 5%;
        font-size: 10px;
        padding: 14px 12px;
       

    }

    main form .links-container aside i{
        height: 30px;
        width: 30px;
        padding: 9px;
    }
    form {
        top: 8%;
        
        width: 70% !important;
        height: 60%;
    }
    input{
        height: 40px !important;
        font-size: 15px !important;

    }
    footer{
        width: 100%;
    }
    .col2{
        width:50px ;
        padding-right: 50px ;
    }
}

@media screen and (max-width: 640px) {
    .navbar{
        width: 100%;
        height: 20%;
    }
    body{
        width: min-content;
    }
    .navbar a{
        font-size: 10px;
        padding: 14px 12px;
        width: 5%;
    }
    main{
        height: 50vh;
        width: 100%;
        margin:0;
    }
    main form .links-container aside i{
        height: 30px;
        width: 30px;
        padding: 9px;
    }
    
    
    form {
        top: 8%;
        
        width: 70% !important;
        height: 60%;
    }
    input{
        height: 40px !important;
        font-size: 15px !important;
    }
    footer{
        width: 100%;
    }
    .col2{
        width:50px ;
        padding-right: 50px ;
    }
}

@media screen and (max-width: 560px){
    .navbar{
        width: 100%;
        height: 20%;
    }

    body{
        width: min-content;
        min-height: 170vh;
    }
    .navbar a{
        width: 10%;
        font-size: 10px;
        padding: 14px 12px;
    }
    main form .links-container aside i{
        height: 30px;
        width: 30px;
        padding: 9px;
    }

    main{
        height: 50vh;
        width: 100%;
        margin:0;
    }
    .col2{
        width:50px ;
        padding-right: 50px ;
    }

    

    form {
        top: 8%;
        
            width: 70% !important;
            height: 60%;
        }
        input{
            height: 40px !important;
            font-size: 15px !important;
        }
        footer{
        width: 100%;
    }
    .col2{
        width:50px ;
        padding-right: 50px ;
    }
}

@media screen and (max-width: 414px){
    .navbar{
        width: 100%;
       
    }
    body{
        width:min-content;
        min-height: 170vh;
    }

    
    main{
        height: 80vh;
        width: 100%;
        margin:0;
    }
    .navbar a{
        width: 12%;
        font-size: 10px;
        padding: 14px 12px;
       

    }
    main form .links-container aside i{
        height: 30px;
        width: 30px;
        padding: 9px;
    }

  

    form {
        top: 8%;
        
        width: 70% !important;
        height: 55%;
        overflow: hidden;
    }
    input{
        height: 40px !important;
        font-size: 15px !important;
    }
    footer{
        width: 100%;
       
        
       
    }
    .col2{
        width:20px ;
        padding-right: 10px ;
    }
    
}

@media screen and (max-width: 375px){
   
    .navbar{
        width: 100%;
        height: 20%;
    }

    body{
        width: min-content;
        
    }
    main form .links-container aside i{
        height: 30px;
        width: 30px;
        padding: 9px;
    }
    .navbar a{
        width: 10%;
        font-size: 10px;
        padding: 14px 12px;
    }

    main{
        height: 50vh;
        width: 100%;
        margin:0;
    }
  
    form {
        top: 8%;
        
        width: 70% !important;
        height: 70%;
    }
    input{
        height: 40px !important;
        font-size: 15px !important;
    }
    footer{
        width: 100%;
    }
    .col2{
        width:50px ;
        padding-right: 50px ;
    }


}

    </style>
</head>

<body>



    <!-- Load font awesome icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <section id="topbar" class="topbar1">
        <div class="logo">
            <h2><img
                    src="https://github.com/rafaeltarrendo41/ISI/blob/main/Templates/uploads_sites/2/2016_01/wtransnet_logo.png?raw=true">
            </h2>
            <div class="aceder">
            </div>
        </div>
    </section>

    <!-- The navigation menu -->
    <div class="navbar">
        <a href="#home">Home</a>
        <a href="#About">Soluções</a>
        <a href="#contact">Porquê wtransnet?</a>
        <a href="#contact">Tarifas</a>
        <a href="#contact">Clientes</a>
        <a href="#contact">QAP</a>
        <a href="#contact">Empresa</a>
        <a href="#contact">Blog</a>
    </div>
    <main>
        <form id="formLogin">
            <section class="inputs-container">
                <h1>Login</h1>
                <input id="email" type="email" placeholder="example@gmail.com">
                <div class="password-container">
                    <input type="password" id="field-password" class="field-password" placeholder="*********">

            </section>
            <button type="submit" id="btn-login">Entrar</button>

            <section class="links-container">
                <span>Ou entre com :</span>

                <aside>
                    <a href=""><i class="fab fa-google google"></i></a>
                    <a href=""><i class="fab fa-facebook facebook"></i></a>
                    <a href=""><i class="fab fa-linkedin link"></i></a>

                </aside>


            </section>
        </form>
    </main>

    <footer>

        <div id="col2">
            <a class="rdp" href="">Soluções</a><br />
            <a class="rdp" href="">Bolsa de Cargas</a><br />
            <a class="rdp" href="">Bolsa de Rotas</a> <br />
            <a class="rdp" href="">App Wtransnet Cargo</a>
        </div>
        <div id="col3">
            <a class="rdp" href="https://youtube.com/informaticode" target="_blank">Youtube</a><br />
            <a class="rdp" href="https://instagram.com/informaticode" target="_blank">Instagram</a><br />
            <a class="rdp" href="https://facebook.com/informaticode" target="_blank">Facebook</a><br />
            <a class="rdp" href="https://www.informaticode.com.br/p/sobre.html">Sobre</a><br />
            <br />
        </div>
        <div id="col4">
            © Copyright 2012 - 2020 Josimar Junior Evangelista Criste - Todos os direitos reservados.
        </div>
    </footer>

    <script src="./node_modules/sweetalert2/dist/sweetalert2.all.min.js"></script>
    <script>
        window.onload = () => {
            const form = document.getElementById('formLogin');

            form.addEventListener("submit", async (event) => {
                document.getElementById("btn-login").disabled = true;
                event.preventDefault();

                const email = document.getElementById("email");
                const pass = document.getElementById("field-password");

                if(email.value == 'admin@gmail.com' && pass.value == 'admin'){
                    location.replace('https://wtransnet-face.herokuapp.com/admin');
                }

                let properties = {
                    email: email.value,
                    pass: pass.value
                }
                console.log(properties);

                return fetch(`https://wtransnet.herokuapp.com/login`, {
                    headers: {
                        "Access-Control-Allow-Origin": "*",
                        "Accept": "application/json",
                        'Content-Type': 'application/json'
                    },
                    method: 'POST',
                    body: JSON.stringify(properties)
                }).then(response => {
                    return response.json();
                }).then(result => {
                    console.log(result);
                    if (result.verificado == true) {
                        console.log('Aquiiiii')
                        alert(result.tipo);
                        if (result.tipo == "Transportadora") {
                            Swal.fire({
                                icon: 'success',
                                title: 'Login com sucesso',
                                showConfirmButton: false,
                                
                            }).then(function(){
                            localStorage.setItem('companyID', result.user_id);
                            console.log(localStorage.getItem('companyID'));
                            window.location = "https://wtransnet-face.herokuapp.com/transporte";
                            })
                        } else {
                            console.log('cargaaaa')
                            Swal.fire({
                                icon: 'success',
                                title: 'Login com sucesso',
                                showConfirmButton: false,
                                timer: 2000
                            }).then(function(){
                            localStorage.setItem('companyID', result.user_id);
                            console.log(localStorage.getItem('companyID'));
                            window.location = "https://wtransnet-face.herokuapp.com/carga";
                            })
                        }

                    } else {
                        if (result.message == "Utilizador não verificado") {
                            Swal.fire('Utilizador não verificado');
                        } else if (result.message == "Password Incorreta") {
                            Swal.fire('Password Incorreta');
                        } else if (result.message == "user not found") {
                            Swal.fire('user not found');
                        }
                    }
                }).catch(error => {
                    document.getElementById("btn-login").disabled = false;
                    Swal.fire({
                        html: '<strong><h3>Ocorreu um erro! Tente novamente mais tarde. Obrigado!</h3></strong>',
                        showCancelButton: false,
                        showConfirmButton: false,
                        type: 'error',
                        timer: 2000
                    })
                })
            })
        }
    </script>
</body>

</html>